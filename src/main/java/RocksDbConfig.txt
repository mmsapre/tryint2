package com.mmsapre.semantic.store;

import com.mmsapre.semantic.config.RocksDbProperties;
import org.rocksdb.Options;
import org.rocksdb.RocksDB;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class RocksDbConfig {
  static { RocksDB.loadLibrary(); }

  @Bean(destroyMethod = "close")
  public RocksDB rocksDB(RocksDbProperties props) throws Exception {
    Options options = new Options().setCreateIfMissing(true);
    return RocksDB.open(options, props.getPath());
  }
}
